# webrtc 学习笔记

## 生命周期

### 1. 建立信令通道，用于传输协议、信道、媒体编解码器、格式、数据传输方式以及任何所需的路由信息。
传输的内容大致如下：
- 1. 控制消息：用于设置、打开、关闭通信通道并处理错误
- 2. 为了建立连接所需的信息：IP寻址和端口信息
- 3. 媒体能力协商：交互双方可以理解哪些编解码器和媒体数据格式

### 2. 建立webrtc会话
- 1. 每个Peer创建一个RTCPeerConnection对象
- 2. 每个Peer建立一个icecandidate事件的响应程序，用来在监测到该事件时将这些candidates通过信令通道发送给另一个Peer。
- 3. 每个Peer建立一个track事件的响应程序，这个事件会在远程Peer添加一个track到其stream上时被触发。这个响应程序应将tracks和其消受者联系起来，例如<video>元素
- 4. 呼叫者创建并与接收者共享一个唯一的标识符或某种令牌，使得它们之间的呼叫可以由信令服务器上的代码来识别。此标识符的确切内容和形式取决于您
- 5. 每个Peer连接到一个约定的信令服务器，如WebSocket服务器，他们都知道如何与之交换消息
- 6. 每个Peer告知信令服务器他们想加入同一WebRTC会话
- 7. 描述，候选地址等 -- 之后会有更多

